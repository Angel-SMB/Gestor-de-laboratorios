CRITICAL - 2023-05-09 02:41:06 --> Undefined variable $session
in APPPATH\Controllers\Usuarios.php on line 74.
 1 APPPATH\Controllers\Usuarios.php(74): CodeIgniter\Debug\Exceptions->errorHandler(2, 'Undefined variable $session', 'C:\\xampp\\htdocs\\proyecto-lap\\app\\Controllers\\Usuarios.php', 74)
 2 SYSTEMPATH\CodeIgniter.php(934): App\Controllers\Usuarios->alta_usuario()
 3 SYSTEMPATH\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Usuarios))
 4 SYSTEMPATH\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
ERROR - 2023-05-09 04:58:08 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`proyecto_laboratorios`.`prestamo`, CONSTRAINT `prestamo_ibfk_4` FOREIGN KEY (`id_laboratorio`) REFERENCES `laboratorio` (`id_laboratorio`)) in C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:295
Stack trace:
#0 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(295): mysqli->query('UPDATE `prestam...', 0)
#1 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Database\BaseConnection.php(691): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `prestam...')
#2 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Database\BaseConnection.php(605): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `prestam...')
#3 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(2476): CodeIgniter\Database\BaseConnection->query('UPDATE `prestam...', Array, false)
#4 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Model.php(396): CodeIgniter\Database\BaseBuilder->update()
#5 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\BaseModel.php(943): CodeIgniter\Model->doUpdate(Array, Array)
#6 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\Model.php(756): CodeIgniter\BaseModel->update(Array, Array)
#7 C:\xampp\htdocs\proyecto-lap\app\Controllers\Prestamos.php(95): CodeIgniter\Model->update('54', Array)
#8 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\CodeIgniter.php(934): App\Controllers\Prestamos->modificar('54')
#9 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Prestamos))
#10 C:\xampp\htdocs\proyecto-lap\vendor\codeigniter4\framework\system\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp\htdocs\proyecto-lap\public\index.php(67): CodeIgniter\CodeIgniter->run()
#12 {main}
CRITICAL - 2023-05-09 04:58:08 --> Cannot add or update a child row: a foreign key constraint fails (`proyecto_laboratorios`.`prestamo`, CONSTRAINT `prestamo_ibfk_4` FOREIGN KEY (`id_laboratorio`) REFERENCES `laboratorio` (`id_laboratorio`))
in SYSTEMPATH\Database\MySQLi\Connection.php on line 295.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(295): mysqli->query('UPDATE `prestamo` SET `fecha_prestamo` = NULL, `hora_fin_prestamo` = \'13:00:00\', `observacion_prestamo` = \'DaÃ±ado\', `id_laboratorio` = NULL, `id_usuario` = NULL, `id_equipo` = NULL
WHERE `prestamo`.`id_prestamo` IN (\'54\')', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(691): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `prestamo` SET `fecha_prestamo` = NULL, `hora_fin_prestamo` = \'13:00:00\', `observacion_prestamo` = \'DaÃ±ado\', `id_laboratorio` = NULL, `id_usuario` = NULL, `id_equipo` = NULL
WHERE `prestamo`.`id_prestamo` IN (\'54\')')
 3 SYSTEMPATH\Database\BaseConnection.php(605): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `prestamo` SET `fecha_prestamo` = NULL, `hora_fin_prestamo` = \'13:00:00\', `observacion_prestamo` = \'DaÃ±ado\', `id_laboratorio` = NULL, `id_usuario` = NULL, `id_equipo` = NULL
WHERE `prestamo`.`id_prestamo` IN (\'54\')')
 4 SYSTEMPATH\Database\BaseBuilder.php(2476): CodeIgniter\Database\BaseConnection->query('UPDATE `prestamo` SET `fecha_prestamo` = :fecha_prestamo:, `hora_fin_prestamo` = :hora_fin_prestamo:, `observacion_prestamo` = :observacion_prestamo:, `id_laboratorio` = :id_laboratorio:, `id_usuario` = :id_usuario:, `id_equipo` = :id_equipo:
WHERE `prestamo`.`id_prestamo` IN :prestamo.id_prestamo:', [...], false)
 5 SYSTEMPATH\Model.php(396): CodeIgniter\Database\BaseBuilder->update()
 6 SYSTEMPATH\BaseModel.php(943): CodeIgniter\Model->doUpdate([...], [...])
 7 SYSTEMPATH\Model.php(756): CodeIgniter\BaseModel->update([...], [...])
 8 APPPATH\Controllers\Prestamos.php(95): CodeIgniter\Model->update('54', [...])
 9 SYSTEMPATH\CodeIgniter.php(934): App\Controllers\Prestamos->modificar('54')
10 SYSTEMPATH\CodeIgniter.php(499): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Prestamos))
11 SYSTEMPATH\CodeIgniter.php(368): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
12 FCPATH\index.php(67): CodeIgniter\CodeIgniter->run()
